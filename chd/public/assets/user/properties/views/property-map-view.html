<!--Start middle Part-->
<div class="midllepart">
	<!--Start top serch -->
	<section class="bluebg section pad-t-0">
		<div class="container marbot30">
			<div class="boxshadowcommon col-lg-12">
				<div class="row">
					<div class="col-lg-12">
						<div class="mycherrytopfilter">
							<!--Start inner update Part-->
							<div class="topserchdiv mar0">
								<md-autocomplete
								class="traderstopserchselect advance_search"
								md-selected-item="selectedItem"
								md-search-text-change="searchTextChange(property.search_address)"
								md-search-text="property.search_address"
								md-selected-item-change="selectedItemChange(item)"
								md-items="item in querySearch(property.search_address)"
								md-item-text="item.suggestion"
								md-min-length="1"
								placeholder="Address, suburbs, postcodes, or regions">
								<md-item-template>
									<span md-highlight-text="property.search_address" md-highlight-flags="^i">{{item.suggestion}}</span>
								</md-item-template>
								<md-not-found> No address matching "{{property.search_address}}" were found. </md-not-found>
							</md-autocomplete>
							<md-button type="submit" class="serchbtn height38 traderstopsercbtn md-raised md-primary btnComn">Search</md-button>

						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<!--End top partr-->
	<!--statr  sort partr-->
	<div class="container marbot20">
		<div class="row">
			<div class="col-lg-4 col-md-4">
				<div class="map_tab">
					<ul ng-init="result=true">
						<li>
							<a  ng-class="{'active':result}" ng-click="result=true;filter=false"><md-icon>search</md-icon> Relevant Results</a></li>
							<li>
								<a  ng-class="{'active':filter}"  ng-click="result=false;filter=true">
									<md-icon>subject</md-icon>Filters</a>
								</li>

							</ul>
						</div>
						<div class="clearfix" ng-show="result" >
							<md-list ng-scrollbars class="map_tab_list">
								<md-list-item  ng-repeat="property in properties" ng-if="properties">
									<md-card 	ng-click="openMapWindow(e,property);$parent.isLoaded=true">

										<span ng-if="property.property_for === 'sale'"
										class="tags {{property.property_for}}">For Sale</span>
										<span ng-if="property.property_for === 'rent'"
										class="tags {{property.property_for}}">For Rent</span>

										<div class="cardimg"
										style="background-image: url({{property.image_count > 0 ? (property.cover_photo ? property.cover_photo.thumb_path + property.cover_photo.thumb_name : property.image[0].thumb_path + property.image[0].thumb_name) :(property.default_image.thumb_path + property.default_image.thumb_name)}});">
									</div>
									<md-card-title class="map_tab_title">
										<md-card-title-text   layout="row" layout-wrap >
											<div flex="50">
												<!--title-->
												<b>{{property.beds === 0 ? 'Studio': property.beds}} Bedroom, {{property.property_type.name}} </b>
											</div>
											<div flex="50" class="text-right">
												<!--price -->
												<span ng-if="property.monthly_rent" class="myproperyydetdivprice">
													<md-tooltip md-direction="bottom">
														<strong>Monthly Rental Price</strong>
													</md-tooltip>
													{{property.monthly_rent | currency : '&pound;' : 2}}
												</span>
												<span ng-if="property.sale_price" class="myproperyydetdivprice">
													<md-tooltip md-direction="bottom">
														<strong>Property Sale Price</strong>
													</md-tooltip>
													{{property.sale_price | currency : '&pound;' : 2}}
												</span>
											</span>
										</div>

									</md-card-title-text>
								</md-card-title>
								<md-card-content >
									<hr>
									<div  class="text-left locatoon text-small" >
										<md-icon>location_on</md-icon> {{property.virtual_name}}
									</div>
									<span class="clearfix"></span>
									<hr>
									<ul class="amenties">
										<li>
											<img src="images/savedpro_bath.png">
											<span>{{property.bathroom}}</span>
										</li>
										<li>
											<img src="images/savedpro_bed.png">
											<span>{{property.beds === 0 ? 'Studio': property.beds}}</span>
										</li>
										<li>
											<img src="images/savedpro_car.png">
											<span>{{property.parking.name}}</span>
										</li>
									</ul>

								</md-card-content>

							</md-card>
						</md-list-item>

					</md-list>

				</md-list>
			</div>
			<div class="clearfix map_tab_filter" ng-show="filter" >
				<div class="clearfix map_tab_filter_inner">
					<p class="textupper">Price</p>
					<div class="my_update_form-L fl">
						<label class="opensemibold textupper">MIn</label>
						<md-select name="property_for" placeholder="Any" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
						ng-model="step1.property_for">
						<md-option value="100">100</md-option>
						<md-option value="200">200</md-option>
					</md-select>
				</div>
				<div class="my_update_form-L fr">
					<label class="opensemibold textupper">Max</label>
					<md-select name="property_for" placeholder="Any" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
					ng-model="step1.property_for">
					<md-option value="100">100</md-option>
					<md-option value="200">200</md-option>
				</md-select>
			</div>
		</div>
		<div class="clearfix map_tab_filter_inner">
			<p class="textupper">Property Features</p>
			<div class="my_update_form-L fl">
				<label class="opensemibold textupper">MIn Bedroom</label>
				<md-select name="property_for" placeholder="Any" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
				ng-model="step1.property_for">
				<md-option value="100">100</md-option>
				<md-option value="200">200</md-option>
			</md-select>
		</div>
		<div class="my_update_form-L fr">
			<label class="opensemibold textupper">Max Bedroom</label>
			<md-select name="property_for" placeholder="Any" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
			ng-model="step1.property_for">
			<md-option value="100">100</md-option>
			<md-option value="200">200</md-option>
		</md-select>
	</div>
</div>
<div class="clearfix map_tab_filter_inner">
	<p class="textupper">Property Type</p>
	<div class="my_update_form-full">
		<label class="opensemibold textupper">Property Type</label>
		<md-select name="property_for" placeholder="Property Type" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
		ng-model="step1.property_for">
		<md-option value="100">100</md-option>
		<md-option value="200">200</md-option>
	</md-select>
</div>
</div>
<div class="clearfix map_tab_filter_inner">
	<p class="textupper">Search Radius</p>
	<div class="my_update_form-full">
		<label class="opensemibold textupper">Radius</label>
		<md-select name="property_for" placeholder="Radius" class="traderstopserchselect selectlogin99 m-t-0 md-no-underline m-b-0"
		ng-model="step1.property_for">
		<md-option value="100">100</md-option>
		<md-option value="200">200</md-option>
	</md-select>
</div>
</div>
<div class="clearfix map_tab_filter_inner">
	<p class="textupper">Keywords</p>

	<div class="my_update_form-full positiorel ">
		<input type="text" class="traderstopserchselect keywordpad" name="" placeholder="Keywords">
		<span class="mdsecrhbtn"><md-icon>search</md-icon> </span>
	</div>							 

</div>

</div>
</div>
<div class="col-lg-8 col-md-8 map_view_listing" >
	<div class="clearfix mycheyy_dashsort marbot10">
		<div class="fl ">
			<ul class="mycheyy_dashsort_list">
				<li ><a set-url="/property-listings" > <span class="mycherrydash_icon list"></span> List View</a></li>
				<li><a ng-href="" class="active"> <span class="mycherrydash_icon map "></span> Map View</a></li>
			</ul>
		</div>

	</div>
	<div class="clearfix mycheyy_dashpagination marbot20">
		<div class="pagination fl ">
			<p>Showing {{paging.current}} of {{paging.count}} total results</p>
		</div>

	</div>

	<div class="map_view" 	map-lazy-load="https://maps.google.com/maps/api/js"
	map-lazy-load-params="{{googleMapsUrl}}">
	<md-button class="md-fab md-mini btn-center-map" aria-label="center" ng-click="mapCenter()">
		<md-icon > gps_fixed </md-icon>
		<md-tooltip >Center</md-tooltip>
	</md-button>

	<!--map container-->
	<div class="mapLoader" ng-hide="isMapLoaded">
		<md-progress-circular  md-diameter="30" ></md-progress-circular>
	</div>

	<ng-map  zoom="{{mapConfig.zooms}}" center="{{mapConfig.lat}},{{mapConfig.lng}}" default-style="true">

		<custom-marker ng-repeat="marker in properties"
		id="{{marker._id}}"
		on-click="map.showInfoWindow('infoWindow','{{marker._id}}')"
		position="{{[marker.address.latitude,marker.address.longitude]}}">
		<md-icon data={{marker._id}} ng-hide="mapInfo._id==marker._id"
		ng-click="openMapWindow(e,marker);$parent.isLoaded=true">location_on</md-icon>
		<md-icon data={{marker._id}} ng-show="mapInfo._id==marker._id" class="activeTop"
		ng-click="openMapWindow(e,marker);$parent.isLoaded=true">location_on</md-icon>
								<!-- <img data={{marker._id}}
								src="images/redmap_icon.png"
								ng-hide="mapInfo._id==marker._id"
								ng-click="openMapWindow(e,marker);$parent.isLoaded=true" />

								<img data={{marker._id}}
								ng-show="mapInfo._id==marker._id"
								class="activeTop"
								src="images/bluemap_icon.png"
								ng-click="openMapWindow(e,marker);$parent.isLoaded=true" /> -->
							</custom-marker>

							<!--start info window-->
							<info-window id="infoWindow"  on-mouseover="mouseover()" >
								<div > <!--map container-->

									<div class="md-whiteframe-8dp map-box" >
										<div class="loader" ng-show="isLoaded">
											<md-progress-circular  md-diameter="30" ></md-progress-circular>
										</div>
										<div class="absoluteproperty_img"
										style="background-image: url({{mapInfo.image_count > 0 ? (mapInfo.cover_photo ? mapInfo.cover_photo.thumb_path + mapInfo.cover_photo.thumb_name : mapInfo.image[0].thumb_path + mapInfo.image[0].thumb_name) :(mapInfo.default_image.thumb_path + mapInfo.default_image.thumb_name)}});">

										<span ng-show="mapInfo.property_for === 'sale'"
										class="tags {{mapInfo.property_for}}">For Sale</span>
										<span ng-show="mapInfo.property_for === 'rent'"
										class="tags {{mapInfo.property_for}}">For Rent</span>
									</div>
									<div class="map-box-content">
										<!--title-->
										<b>{{mapInfo.beds === 0 ? 'Studio': mapInfo.beds}} Bedroom, {{mapInfo.property_type.name}} </b>
										<hr>
										<p class="text-small height27infowindow">{{mapInfo.virtual_name}}</p>
										<hr>
										<ul class="amenties amieties-sm">
											<li>
												<img src="images/savedpro_bath.png">
												<span>{{mapInfo.bathroom}}</span>
											</li>
											<li>
												<img src="images/savedpro_bed.png">
												<span>{{mapInfo.beds === 0 ? 'Studio': mapInfo.beds}}</span>
											</li>
											<li>
												<img src="images/savedpro_car.png">
												<span>{{mapInfo.parking.name}}</span>
											</li>
										</ul>
										<hr>
										<div  layout="row" layout-wrap  class="bottom">
											<div flex="50">

												<span ng-show="mapInfo.monthly_rent"  class="price">
													{{mapInfo.monthly_rent | currency : '&pound;' : 2}}
												</span>
												<span ng-show="mapInfo.sale_price" class="price">
													{{mapInfo.sale_price | currency : '&pound;' : 2}}
												</span>
											</span>
										</div>
										<div flex="50" class="text-right"> <a set-url="/property/{{mapInfo.slug}}"> <md-icon> link</md-icon> Detail</a></div>


									</div>

								</div>
							</div>
						</div>

					</info-window> <!--end map info view-->
				</ng-map> <!--end map-view-->

			</div>
		</div>
		<!--End  sort Part-->
		<div class="container">
			<div class="pagination fl ">
				<ul class="paginationlist" uib-pagination ng-if="paging.count > paging.limit" previous-text="Prev" force-ellipses="forceEllipses" max-size="maxSize" items-per-page="paging.limit" total-items="paging.count" ng-model="paging.page" class="pagination-sm" boundary-link-numbers="true" rotate="false" ng-change="pageChanged()"></ul>
			</div>
		</div>
	</section>
	<!--Start top Serch -->
</div>
<!--End middle Part-->
