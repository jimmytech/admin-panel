"use strict";var app=angular.module("myAdminApp",["ngRoute","ngMaterial","ngMessages","ckeditor","ui.bootstrap","angular-toasty","ngFileUpload","ngCookies"]);app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"backend/landing/views/admin_login.html",controller:"authController",resolve:{validate:notRequired}}).when("/admin/dashboard",{templateUrl:"backend/dashboard/views/admin_dashboard.html",controller:"dashCtrl",resolve:{validate:required}}).when("/admin/posts",{templateUrl:"backend/blog/views/blog.html",reloadOnSearch:!1,controller:"blogController",resolve:{validate:required}}).when("/admin/edit-post/:id",{templateUrl:"backend/blog/views/add_edit_blog.html",controller:"editBlogController",resolve:{validate:required}}).when("/admin/view-post/:id",{templateUrl:"backend/blog/views/blog_detail.html",controller:"previewBlogController",resolve:{validate:required}}).when("/admin/pages",{templateUrl:"backend/cms/views/cms.html",controller:"cmsController",resolve:{validate:required}}).when("/admin/pages/:page",{templateUrl:"backend/cms/views/add_edit_page.html",controller:"addEditCmsController",resolve:{validate:required}}).when("/admin/page/detail/:page",{templateUrl:"backend/cms/views/cms_page_detail.html",controller:"addEditCmsController",resolve:{validate:required}}).when("/admin/profile",{templateUrl:"backend/profile/views/profile.html",controller:"profileController",resolve:{validate:required}}).when("/admin/edit-profile",{templateUrl:"backend/profile/views/edit_profile.html",controller:"profileController",resolve:{validate:required}}).when("/admin/change-password",{templateUrl:"backend/profile/views/change_password.html",controller:"profileController",resolve:{validate:required}}).when("/admin/faq",{templateUrl:"backend/faq/views/faq.html",controller:"faqController",resolve:{validate:required}}).when("/admin/faq/:u",{templateUrl:"backend/faq/views/add_edit_faq.html",controller:"addEditFaqController",resolve:{validate:required}}).when("/admin/view-faq/:u",{templateUrl:"backend/faq/views/faq_detail.html",controller:"addEditFaqController",resolve:{validate:required}}).when("/admin/Categories",{templateUrl:"backend/services_categories/views/categories.html",controller:"categoryController",resolve:{validate:required}}).when("/admin/service",{templateUrl:"backend/services_categories/views/services.html",controller:"serviceCtrl",resolve:{validate:required}}).when("/admin/categories/new-category",{templateUrl:"backend/services_categories/views/add_edit_category.html",controller:"addEditCategoryController",resolve:{validate:required}}).when("/admin/services/new-service",{templateUrl:"backend/services_categories/views/add_edit_service.html",controller:"addEditServiceCtrl",resolve:{validate:required}}).when("/admin/category/:id",{templateUrl:"backend/services_categories/views/add_edit_category.html",controller:"addEditCategoryController",resolve:{validate:required}}).when("/admin/service/:id",{templateUrl:"backend/services_categories/views/add_edit_service.html",controller:"addEditServiceCtrl",resolve:{validate:required}}).when("/admin/category/detail/:id",{templateUrl:"backend/services_categories/views/preview_category.html",controller:"addEditCategoryController",resolve:{validate:required}}).when("/admin/service/detail/:id",{templateUrl:"backend/services_categories/views/preview_service.html",controller:"addEditServiceCtrl",resolve:{validate:required}}).when("/admin/users",{templateUrl:"backend/users/views/users.html",reloadOnSearch:!1,controller:"userController",resolve:{validate:required}}).when("/admin/users/new",{templateUrl:"backend/users/views/new_user.html",controller:"addEditUserCtrl",resolve:{validate:required}}).when("/admin/user/account/:id",{templateUrl:"backend/users/views/edit_user.html",controller:"addEditUserCtrl",resolve:{validate:required}}).otherwise({redirectTo:"/"})}]),app.config(["$httpProvider",function(e){e.interceptors.push(["$q",function(e){return{request:function(t){t.headers=t.headers||{};var a=localStorage.getItem("token");return a&&(t.headers.Authorization="Bearer "+a),t||e.when(t)},response:function(t){return t||e.when(t)}}}])}]).config(["toastyConfigProvider",function(e){e.setConfig({sound:!0,shake:!1,position:"top-right"})}]).run(["$rootScope","$location",function(e,t){e.$on("$routeChangeSuccess",function(){"/admin/login"==t.path()||"/"==t.path()?e.headerAndSidebar=!1:e.headerAndSidebar=!0}),e.$on("$routeChangeError",function(e,a,n,o){o.authentication===!0?t.path("/admin/dashboard"):t.path("/admin/login")}),e.$on("$locationChangeSuccess",function(e,a,n){var o=n.substr(0,n.indexOf("?"));o!==a.substr(0,a.indexOf("?"))&&o.length>0&&t.search("")}),e.$on("$routeChangeStart",function(){"/admin/login"==t.path()?e.adminLoginPage=!0:e.adminLoginPage=!1})}]);var required=["$q",function(e){var t=e.defer();return localStorage.getItem("token")?t.resolve():t.reject({authentication:!1}),t.promise}],notRequired=["$q",function(e){var t=e.defer();return localStorage.getItem("token")?t.reject({authentication:!0}):t.resolve(),t.promise}];app.factory("confirmationDialog",["$mdDialog",function(e){return{confirm:function(t,a){var n=e.confirm().title("Would you like to delete ?").textContent("Note: This is temporary delete. It can be restore.").targetEvent(t).ok("Ok").cancel("Cancel");a(e.show(n))}}}]),app.factory("htmlToText",[function(){return{convert:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText}}}]),app.factory("http",["$http",function(e){return{get:function(t,a){return e.get(t,a).then(function(e){return e.data})},post:function(t,a){return e.post(t,a).then(function(e){return{result:e.data}},function(e){return{error:e.data}})},put:function(t,a){return e.get(t,a).then(function(e){return e.data})},delete:function(t){return e.delete(t).then(function(e){return{result:e.data}})}}}]),app.factory("socket",["$rootScope",function(e){var t=io.connect();return{on:function(e,a){t.on(e,a)},emit:function(e,a){t.emit(e,a)}}}]),app.factory("sortIcon",[function(){return{set:function(e){var t;return $(e.target).hasClass("fa-sort-alpha-asc")?($(".sort i").attr("class","fa fa-sort-alpha-asc"),$(e.target).removeClass("fa-sort-alpha-asc").addClass("fa-sort-alpha-desc"),t=1):($(".sort i").attr("class","fa fa-sort-alpha-asc"),$(e.target).addClass("fa-sort-alpha-asc").removeClass("fa-sort-alpha-desc"),t=0),t}}}]),app.factory("timeout",["$timeout",function(e){return{hundredMiliSeconds:function(t){e(function(){t()},100)},twoSecond:function(t){e(function(){t()},2e3)}}}]),app.factory("toastyService",["toasty",function(e){return{notification:function(t,a){t===!0?e.success({title:"",msg:a,showClose:!0,clickToClose:!0,timeout:5e3,html:!0,theme:"bootstrap"}):t===!1&&e.error({title:"",msg:a,showClose:!0,clickToClose:!0,timeout:5e3,html:!0,theme:"bootstrap"})}}}]),app.value("defaultSortType",-1);var obj={forceEllipses:!0,maxSize:5};app.value("paging",obj),app.controller("authController",["toastyService","$scope","$location","$http",function(e,t,a,n){t.adminLogin=function(){n.post("/admin/login",t.user).then(function(t){e.notification(t.data.success,t.data.message),t.data.success===!0&&(localStorage.setItem("token",t.data.token),a.path("/admin/dashboard"))})}}]),app.controller("dashCtrl",["$scope","$location","http",function(e,t,a){function n(){a.get("/admin/count-on-dashboard").then(function(t){e.listOverview=t.data})}!function(){n()}();var o={xData:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yData:[{name:"Users",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Bookings",data:[-.2,.8,5.7,11.3,17,22,24.8,24.1,20.1,14.1,8.6,2.5]}]};e.lineChartYData=o.yData,e.lineChartXData=o.xData}]),app.controller("addEditFaqController",["htmlToText","$scope","$location","http","toastyService",function(e,t,a,n,o){function i(){var o=a.path().split("/").pop();"new"==o?t.slugInput=!1:(t.slugInput=!0,n.get("/admin/faq-detail?id="+o).then(function(a){t.answer=e.convert(a.faq.answer),a.success===!0&&(t.faq=a.faq)}))}!function(){"/admin/faq/new"===a.path()?t.pageHeader="Add New FAQ":t.pageHeader="Edit",i()}(),t.insertUpdateFaq=function(){angular.element(t.faq.answer).text().replace(/[\s]/g,"")?n.post("/admin/insert-update-faq",t.faq).then(function(e){o.notification(e.result.success,e.result.msg),e.result.success&&a.path("/admin/faq")}):o.notification(!1,"Please fill all required flield")}}]),app.controller("faqController",["confirmationDialog","sortIcon","http","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s){function c(){s.get("/admin/faq-list").then(function(e){o.faqList=e.data})}!function(){o.alphaAsc="fa fa-sort-alpha-asc",o.numericAsc="fa fa-sort-numeric-asc",c()}(),o.addNewFaq=function(e){i.path(e)},o.moveToTrash=function(t,i,r){e.confirm(r,function(e){e.then(function(){a.get("/admin/move-to-trash-faq?id="+t).then(function(e){n.notification(e.success,e.msg),e.success===!0&&o.faqList.faq.splice(i,1)})},function(){})})},o.to=function(e,t){i.path(e+t)},o.sort=function(e,a){var n=t.set(a),i=1===n?"":"-";o.sortByOrder=i+" "+e}}]),app.controller("profileController",["Upload","$routeParams","$scope","$rootScope","$location","$http","toasty","toastyService",function(e,t,a,n,o,i,r,s){function c(){i.get("/admin/profile-info").then(function(e){a.user=e.data.info})}!function(){c()}(),a.editProfilePage=function(e){o.path("/admin/edit-profile")},a.updateAdminProfile=function(e){i.post("/admin/update-profile",e).then(function(e){s.notification(e.data.success,e.data.msg),e.data.success&&o.path("/admin/profile")})},a.changePassword=function(e){var t={currentPassword:e.current,password:e.cpassword,_id:a.user._id};e.cpassword==e.password?i.post("/admin/changePassword",t).then(function(e){s.notification(e.data.success,e.data.msg)}):s.notification(!1,"New password and confirm password is not equal.")}}]),app.controller("addEditCmsController",["htmlToText","Upload","$routeParams","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s){function c(){var t=a.page;"add-new-page"==t?o.csmPageTittle="Add New Page":(o.csmPageTittle="Edit Page",s.get("/admin/cms-page-by-id?id="+t).then(function(t){o.page=t.data.page,o.page.content=e.convert(o.page.content)}))}!function(){c()}(),o.updatePage=function(e){o.page.content?t.upload({url:"/admin/insert-update-page",data:{file:e,pageInfo:o.page}}).then(function(e){n.notification(e.data.success,e.data.msg),e.data.success&&i.path("/admin/pages")}):n.notification(!1,"Please fill all required flield")}}]),app.controller("cmsController",["sortIcon","confirmationDialog","http","Upload","$routeParams","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s,c,l){function d(){a.get("/admin/get-cms-page?sort=created_at").then(function(e){r.pageResult=e})}!function(){r.alphaAsc="fa fa-sort-alpha-asc",r.numericAsc="fa fa-sort-numeric-asc",d()}(),r.addNew=function(e){s.path(e)},r.redirectTo=function(e,t){s.path(e+t)},r.delete=function(e,n,o){t.confirm(event,function(t){t.then(function(){a.get("/admin/delete-cms-page?id="+e).then(function(t){if(i.notification(t.success,t.msg),t.success===!0)for(var a=0;a<r.pageResult.page.length;a++)if(r.pageResult.page[a]._id==e){r.pageResult.page.splice(a,1);break}})},function(){})})},r.sort=function(t,a){var n=e.set(a),o=1===n?"":"-";r.sortByOrder=o+" "+t}}]),app.controller("editBlogController",["$timeout","paging","confirmationDialog","http","Upload","$routeParams","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s,c,l,d){function u(e){n.get("/admin/post-info?id="+i.id).then(function(t){e(t.data)})}s.postInfo=function(){"add-new"!==i.key?(s.pageHeader="Edit Blog",u(function(e){s.page=e})):s.pageHeader="New Blog"},s.addUpdatePost=function(e){angular.element(s.page.body).text().replace(/[\s]/g,"")?o.upload({url:"/admin/add-update-post",data:{file:e,userData:s.page}}).then(function(e){var t=e.data;r.notification(t.success,t.msg),t.success&&c.path("/admin/posts")}):r.notification(!1,"Please fill all required fields")},s.viewDetail=function(){u(function(e){s.page=e;var t=document.createElement("div");t.innerHTML=e.body,s.content=t.innerText})}}]),app.controller("blogController",["sortIcon","$timeout","paging","confirmationDialog","http","Upload","$routeParams","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s,c,l,d,u){function p(){c.sortOn="created_at",c.sortType=-1;var e=angular.isDefined(r.page)?r.page:1;c.paging={page:e},c.forceEllipses=a.forceEllipses,c.maxSize=a.maxSize,c.titleIcon="fa fa-sort-alpha-asc",c.authorIcon="fa fa-sort-alpha-asc",c.orderIcon="fa fa-sort-numeric-asc",c.typeIcon="fa fa-sort-alpha-asc",c.statusIcon="fa fa-sort-alpha-asc"}function f(e){var t=angular.isDefined(c.paging)?c.paging.page:1;console.log(t),o.get("/admin/posts-list?page="+t+"&sortOn="+c.sortOn+"&sortType="+c.sortType).then(function(e){c.postResponse=e,c.paging=e.paging}),c.more="getPostsList"}function g(e){l.search("page",e)}!function(){p(),f()}(),c.search=function(e,t){c.more="search",c.searchFor=e,o.get("/admin/search-post?searchFor="+e).then(function(e){c.postResponse=e,c.paging.count=null})},c.changeSearch=function(e){angular.isUndefined(e)?f():c.search(e)},c.sort=function(e,t,a){g(1),c.paging.page=1,c.alpha=["fa fa-sort-alpha-asc","fa fa-sort-alpha-desc"],c.numeric=["fa fa-sort-numeric-asc","fa fa-sort-numeric-desc"];var n=a.currentTarget.className;$(a.target).removeClass(n);var o,i;c.alpha.indexOf(n)!==-1?(o=1==c.alpha.indexOf(n)?0:1,$(a.target).addClass(c.alpha[o]),i=0===o?-1:1):c.numeric.indexOf(n)!==-1&&(o=1==c.numeric.indexOf(n)?0:1,$(a.target).addClass(c.numeric[o]),i=0===o?-1:1),angular.isUndefined(e)&&(c.sortOn=t,c.sortType=i,f())},c.getMorePosts=function(){if("getPostsList"==c.more)g(c.paging.page),f();else if("search"==c.more){var e=c.searchFor;c.search(e,"more")}},c.editBlogPage=function(e,t){l.path(e+t)},c.addPost=function(e){l.path(e)},c.deletePost=function(e,t,a){n.confirm(a,function(a){a.then(function(){o.delete("/admin/delete-post/"+e).then(function(e){s.notification(e.result.success,e.result.msg),e.result.success&&c.postResponse.data.splice(t,1)})},function(){})})},c.postPreviewPage=function(e,t){l.path(e+t)}}]),app.controller("previewBlogController",["$timeout","paging","confirmationDialog","http","Upload","$routeParams","toastyService","$scope","$location","$rootScope","$http",function(e,t,a,n,o,i,r,s,c,l,d){!function(){n.get("/admin/post-info?id="+i.id).then(function(e){s.page=e.data;var t=document.createElement("div");t.innerHTML=e.data.body,s.content=t.innerText})}()}]),app.controller("addEditUserCtrl",["$timeout","toastyService","$rootScope","http","$scope","$location","$routeParams",function(e,t,a,n,o,i,r){function s(){r.id&&n.get("/admin/user-detail-by-id?id="+r.id).then(function(e){o.user=e.result})}!function(){s()}(),o.signUp=function(){n.post("/admin/user-registration",o.user).then(function(e){t.notification(e.result.success,e.result.message),e.result.success&&i.path("/admin/users")})},o.updateUser=function(){n.post("/admin/update-user",o.user).then(function(e){t.notification(e.result.success,e.result.msg),e.result.success&&i.path("/admin/users")})}}]),app.controller("userController",["toastyService","confirmationDialog","$rootScope","defaultSortType","sortIcon","http","$scope","$location","$routeParams","paging",function(e,t,a,n,o,i,r,s,c,l){function d(){var e=s.path().split("/");r.lastIndex=e[e.length-1],"service-providers"==r.lastIndex?r.userType="Service Provider":"customers"==r.lastIndex&&(r.userType="Customer")}function u(e,t){var a;e?a=e:(a="created_at",t=n);var o=angular.isDefined(r.paging)?r.paging.page:1;i.get("/admin/user-list?type="+r.lastIndex+"&page="+o+"&sortBy="+a+"&sortType="+t).then(function(e){r.data=e,r.paging=e.paging})}function p(e){var t=angular.isDefined(e)?e:r.paging.page;s.search("page",t)}!function(){setTimeout(function(){var e=c.page?c.page:1;r.paging={page:e},u()},10),r.forceEllipses=l.forceEllipses,r.maxSize=l.maxSize,d()}(),r.redirectTo=function(e,t){s.path(e+t)},r.search=function(e){if(angular.isUndefined(r.searchFor))r.paging={page:1},p(),u();else{"getmore"!==e&&(r.paging={page:1},p());var t=angular.isDefined(r.paging)?r.paging.page:1;i.get("/admin/search-user?user="+r.lastIndex+"&page="+t+"&search="+r.searchFor).then(function(e){r.data=e,r.paging=e.paging})}},r.getMoreRecord=function(){angular.isDefined(r.searchFor)?r.search("getmore"):u(),p()},r.addNew=function(e){s.path(e)},r.signUp=function(){},r.sort=function(e,t,a){var n;n=1===o.set(a)?1:-1,"status"==t&&(n*=-1),u(t,n)},r.trash=function(a,n,o){t.confirm(o,function(t){t.then(function(){i.post("/admin/temp-remove-user/"+a).then(function(t){e.notification(t.result.success,t.result.msg),t.result.success&&r.data.result.splice(n,1)})},function(){})})}}]),app.controller("includeController",["$mdDialog","socket","$cookies","$timeout","Upload","$routeParams","$scope","$rootScope","$location","http","toasty","toastyService",function(e,t,a,n,o,i,r,s,c,l,d,u){function p(){"/admin/login"==c.path()||"/"==c.path()||l.get("/admin/get-all-count").then(function(e){var t=e.result;for(var a in t)r[a]=t[a]})}t.emit("fist-test-socket",function(e){console.log("This is socket response")}),t.on("notification",function(e){console.log(e)}),function(){angular.isUndefined(a.get("clickedOn"))&&a.put("clickedOn",".dashboard"),n(function(){angular.element(document.querySelector(a.get("clickedOn"))).addClass("active"),angular.element(document.querySelector(a.get("subMenu"))).addClass("active")},500),p()}(),r.selectMainMenu=function(e){var t=e.currentTarget.className.split(" "),o="."+t[1];t.indexOf("active")==-1&&(a.put("clickedOn",o),$(".treeview").removeClass("active"),n(function(){$(o).addClass("active")},500))},r.selectSubmenu=function(e){var t=e.currentTarget.className.split(" "),n="."+t[0];$(".treeview-menu li").removeClass("active"),a.put("subMenu",n),$(n).addClass("active")},r.hideSubmenu=function(){$(".treeview-menu").slideUp("slow")},r.profilePage=function(){c.path("/admin/profile")},r.changePasswordPage=function(){c.path("/admin/change-password")},r.logout=function(){localStorage.clear(),c.path("/admin/login")},r.toPage=function(e,t){c.path(e)},r.comingSoon=function(t){e.show(e.alert().parent(angular.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!0).title("Module is under development").textContent("").ariaLabel("Alert Dialog Demo").ok("Ok").targetEvent(t))}}]),app.controller("addEditCategoryController",["Upload","$mdDialog","$routeParams","$scope","$location","http","toastyService",function(e,t,a,n,o,i,r){function s(){i.get("/admin/category-info/"+a.id).then(function(e){e.success?(n.category=e.result,n.category.child="root"):r.notification(e.success,e.msg)})}!function(){"/admin/categories/new-category"==o.path()?n.categoryHeader="New Category":(n.categoryHeader="Edit",s())}(),n.insertUpdateCategory=function(t,a){e.upload({url:"/admin/add-update-category",data:{file:a,cat:n.category}}).then(function(e){console.log(e.data),r.notification(e.data.success,e.data.msg),e.data.success&&o.path("/admin/Categories")})}}]),app.controller("addEditServiceCtrl",["$routeParams","$location","$scope","http","toastyService",function(e,t,a,n,o){!function(){e.id?(a.serviceHeader="Edit Service",n.get("/admin/service-info/"+e.id).then(function(e){e.success?a.service=e.result:o.notification(e.success,e.msg)})):a.serviceHeader="New Service"}(),a.insertUpdateService=function(){n.post("/admin/insert-update-service",a.service).then(function(e){o.notification(e.result.success,e.result.msg),e.result.success&&t.path("/admin/service")})}}]),app.controller("categoryController",["toastyService","confirmationDialog","$scope","$location","http",function(e,t,a,n,o){function i(){o.get("/admin/category-list").then(function(e){a.data=e})}!function(){i()}(),a.determinateValue=50,a.addNew=function(e){n.path(e)},a.redirectTo=function(e,t){n.path(e+t)},a.delete=function(n,i,r){t.confirm(r,function(t){t.then(function(){o.delete("/admin/delete-category/"+n).then(function(t){e.notification(t.result.success,t.result.msg),t.result.success&&a.data.result.splice(i,1)})},function(){})})}}]),app.controller("serviceCtrl",["toastyService","confirmationDialog","http","$scope","$location",function(e,t,a,n,o){!function(){a.get("/admin/service-list").then(function(e){n.data=e})}(),n.addNew=function(e){o.path(e)},n.redirectTo=function(e,t){o.path(e+t)},n.trash=function(o,i,r){t.confirm(r,function(t){t.then(function(){a.delete("/admin/delete-service/"+o).then(function(t){e.notification(t.result.success,t.result.msg),t.result.success&&n.data.result.splice(i,1)})},function(){})})}}]),app.directive("ascIcon",["$compile",function(e){return{restrict:"A",link:function(e,t,a){t.addClass("fa fa-sort-alpha-asc")}}}]),app.directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,a,n){n.$parsers.push(function(e){if(void 0===e)return"";var t=e.replace(/[^0-9]/g,"");return t!=e&&(n.$setViewValue(t),n.$render()),t})}}}).directive("setHeight",["$window",function(e){return{restrict:"A",link:function(t,a,n){a.css("min-height",e.innerHeight-50+"px")}}}]).directive("backButton",function(){return{restrict:"A",link:function(e,t,a){t.on("click",function(){history.back(),e.$apply()})}}}),app.directive("chart",function(){return{restrict:"E",template:"<div></div>",transclude:!0,replace:!0,scope:"=",link:function(e,t,a){var n={chart:{renderTo:t[0],type:"line",marginRight:130,marginBottom:40},title:{text:a.title,x:-20},subtitle:{text:a.subtitle,x:-20},xAxis:{tickInterval:1,title:{text:a.xname}},plotOptions:{lineWidth:.5},yAxis:{title:{text:a.yname},tickInterval:a.yinterval?a.yinterval:null,max:a.ymax,min:a.ymin},tooltip:{formatter:e[a.formatter]||function(){return"<b>"+this.y+"</b>"}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-10,y:100,borderWidth:0},series:[{name:"Tokyo",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]}]};e.$watch(function(e){return JSON.stringify({xAxis:{categories:e[a.xdata]},series:e[a.ydata]})},function(e){if(e=JSON.parse(e),e.series){angular.extend(n,e);new Highcharts.Chart(n)}})}}});